<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:b="http://bootsfaces.net/ui">
	<b:panelGrid id="Grid" columns="2" cellpadding="5" colSpans="12">
	
		<h:panelGroup>
			<p:outputLabel for="nombre" value="Nombre:" />
       		<b:inputText id="nombre" value="#{configuration.name}" required="true" 
       		requiredMessage="Debe indicar un nombre"/>
			<p:message for="nombre" />
        </h:panelGroup>
       <b:column/>
        <h:panelGroup>
			<p:outputLabel for="descripcion" value="Descripción:" />
       		<b:inputTextarea rows="3" cols="25" id="descripcion" value="#{configuration.description}"></b:inputTextarea>
			<p:message for="descripcion" />
        </h:panelGroup>
		
		<h:panelGroup>
			<p:outputLabel for="fechaInicioApp" value="Inicio periodo solicitud:" />
       		<p:calendar id="fechaInicioApp" value="#{configuration.applicationStart}" pattern="MM/dd/yyyy HH:mm:ss"
        		required="true" requiredMessage="Debe indicar una fecha de inicio" mindate ="#{configuration.hoy}"/>
			<p:message for="fechaInicioApp" />
        </h:panelGroup>
        
        <h:panelGroup>
			<p:outputLabel for="fechaFinApp" value="Fin periodo solicitud:" />
       		<p:calendar id="fechaFinApp" value="#{configuration.applicationEnd}" pattern="MM/dd/yyyy HH:mm:ss"
       		 	required="true" requiredMessage="Debe indicar una fecha de fin" mindate ="#{configuration.hoy}"/>
			<p:message for="fechaFinApp" />
        </h:panelGroup>
        
        <h:panelGroup>
			<p:outputLabel for="fechaInicioVoto" value="Inicio elecciones:" />
       		<p:calendar id="fechaInicioVoto" value="#{configuration.votationStart}" pattern="MM/dd/yyyy HH:mm:ss"
        		required="true" requiredMessage="Debe indicar una fecha de inicio" mindate ="#{configuration.hoy}"/>
			<p:message for="fechaInicioVoto" />
        </h:panelGroup>
        
        <h:panelGroup>
			<p:outputLabel for="fechaFinVoto" value="Fin elecciones:" />
       		<p:calendar id="fechaFinVoto" value="#{configuration.votationEnd}" pattern="MM/dd/yyyy HH:mm:ss"
       		 	required="true" requiredMessage="Debe indicar una fecha de fin" mindate ="#{configuration.hoy}"/>
			<p:message for="fechaFinVoto" />
        </h:panelGroup>
        
        <h:panelGroup>
       		<h:outputLabel for="elCheck" value="Voto múltiple: " />
       		<b:selectBooleanCheckbox id="elCheck" value="#{configuration.multipleVoting}" />
  		</h:panelGroup>
  		<h:form>
	  		<h:panelGroup>
	  		<h:outputLabel for="opcionesVoto" value="Número de opciones de voto: " />
	         <p:spinner id="opcionesVoto" value="#{configuration.numOptions}" min="2" max ="20">
	                <p:ajax listener="#{configuration.opcionesVoto()}" update="inputs" />
	         </p:spinner>
	        </h:panelGroup>
	        <h:panelGroup id="inputs">		
				<ui:repeat value="#{configuration.votableOptions}" var="o" varStatus="loop">
				<h:panelGroup>
					<br/>
					<p:separator/>
					 <h:outputLabel for="nombreOpcion" value="Nombre: " />
		   			 <p:inputText id="nombreOpcion" value="#{o.nombre}"></p:inputText>
		   			  <h:outputLabel for="descripcionOpcion" value="Descripción: " />
		   			 <p:inputTextarea rows="3" cols="25" id="descripcionOpcion" value="#{o.descripcion}"></p:inputTextarea> 
		   		</h:panelGroup>	 
				</ui:repeat>
			</h:panelGroup>
		</h:form>	
		<b:commandButton value="Validar" actionListener="#{configuration.configura}"
			update="@all" process="@form">
		</b:commandButton>
	</b:panelGrid>
	<p:separator />
	<p:messages for="laInfo" showDetail="true" autoUpdate="true"
			closable="true" />
</ui:composition>